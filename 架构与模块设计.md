## 一. 模块划分

1. 大地图沙盒模块： 玩家在古中国大地图上可以自由行动  包括山川河流的阻隔 （故事背景明朝大约嘉靖年间 地理划分以此为参考）

2. 箱庭模块：基础模型构造的精细场景  包含一系列npc 和剧情/活动

3. 人物角色模块： 一系列基础属性（战斗、生活）  包含子系统
   
   a: 修炼系统  提升等级 基础属性
   
   b: 天赋系统 
   
   c: 心法系统 招式系统
   
   d: 装备系统

4. 队伍模块： 最多上场5个角色 占五行方位有加成

5. 门派模块： 任务-功绩-职位-回报  门派剧情

6. 背包 - 物品模块： 

7. 关卡控制模块 ：控制剧情的流程

8. 随机事件模块：大地图随机出现事件  （维护一个事件表） 

9. 资源管理模块

## 二 . 大地图模块

1.  维护一个树：Map-> layers->region-> tiles

2. map: 维护一个事件管理器 索引所有的一系列Layeres
   
   layers: 对map进行分层  地形的变化 或者切换实际上  
   
   region：地理上划分区域
   
   tiles:  具体的一个个网格 模块 

3. region: 
   
   一个个区域 人物在区域中可能有不同的随机事件触发  

4. tile 维护具体的一个个mesh 有些有特殊事件触发 如进出箱体场景
   
   
   
   
   
   




